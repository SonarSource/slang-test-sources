<%#
  The fonts are loaded outside of the stylesheet so that we can dynamically change the path.
  This is to get around CDN caching on the Origin:

    https://forums.aws.amazon.com/thread.jspa?threadID=114646

  Also added a cache breaker there in case we have breaking config changes
  &1 was added last when the nginx sample config changed
%>

<% font_domain = "#{request.protocol}#{request.host_with_port}&2" %>
<% woff2_url = "#{asset_path("fontawesome-webfont.woff2")}?#{font_domain}&v=4.7.0".html_safe %>

<link rel="preload" href="<%=woff2_url%>" as="font" type="font/woff2" crossorigin />
<style>
  @font-face {
    font-family: 'FontAwesome';
    src: url('<%=woff2_url %>') format('woff2'),
         url('<%=asset_path "fontawesome-webfont.woff" %>?<%= font_domain %>&v=4.7.0') format('woff');
  }
</style>
